{"ast":null,"code":"var _jsxFileName = \"/home/moringa/React/New/Class-Schedule-React/src/components/pages/AddSchedule.js\";\nimport React from 'react';\nimport { useState, useEffect } from \"react\"; // import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { ListGroup, Card, Button, Form } from \"react-bootstrap\";\nimport API from \"./API\";\n\nconst AddSchedule = () => {\n  const [name, setName] = useState(\"\");\n  const [genre, setGenre] = useState(\"\");\n  const [starring, setStarring] = useState(\"\");\n  const [movieId, setMovieId] = useState(null);\n  const [movies, setMovies] = useState([]);\n  useEffect(() => {\n    refreshMovies();\n  }, []);\n\n  const refreshMovies = () => {\n    API.get(\"/\").then(res => {\n      setMovies(res.data); // setName(res[0].name)\n      // setGenre(res[0].genre)\n      // setStarring(res[0].starring)\n      // setMovieId(res[0].id)\n    }).catch(console.error);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    let item = {\n      name,\n      genre,\n      starring\n    };\n    API.post(\"/\", item).then(() => refreshMovies());\n  };\n\n  const onUpdate = id => {\n    let item = {\n      name\n    };\n    API.patch(`/${id}/`, item).then(res => refreshMovies());\n  };\n\n  const onDelete = id => {\n    API.delete(`/${id}/`).then(res => refreshMovies());\n  };\n\n  function selectMovie(id) {\n    let item = movies.filter(movie => movie.id === id)[0];\n    setName(item.name);\n    setGenre(item.genre);\n    setStarring(item.starring);\n    setMovieId(item.id);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"float-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"Create a new Movie\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formBasicName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, movieId, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter Name\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formBasicGenre\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"Genre\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter Genre\",\n    value: genre,\n    onChange: e => setGenre(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formBasicStarring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, \"Starring\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter Starring\",\n    value: starring,\n    onChange: e => setStarring(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    onClick: onSubmit,\n    className: \"mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"button\",\n    onClick: () => onUpdate(movieId),\n    className: \"mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, \"Update\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"Movie Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, \"Genre\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Starring\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, movies.map((movie, index) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, movie.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, \" \", movie.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, movie.genre), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, movie.starring), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => selectMovie(movie.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => onDelete(movie.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil-square text-primary d-inline\",\n      \"aria-hidden\": \"true\",\n      onClick: () => selectMovie(movie.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o text-danger d-inline mx-3\",\n      \"aria-hidden\": \"true\",\n      onClick: () => onDelete(movie.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 23\n      }\n    })));\n  })))))), \");\");\n};\n\nexport default AddSchedule;","map":{"version":3,"sources":["/home/moringa/React/New/Class-Schedule-React/src/components/pages/AddSchedule.js"],"names":["React","useState","useEffect","ListGroup","Card","Button","Form","API","AddSchedule","name","setName","genre","setGenre","starring","setStarring","movieId","setMovieId","movies","setMovies","refreshMovies","get","then","res","data","catch","console","error","onSubmit","e","preventDefault","item","post","onUpdate","id","patch","onDelete","delete","selectMovie","filter","movie","target","value","map","index"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useState, useEffect } from \"react\";\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { ListGroup, Card, Button, Form } from \"react-bootstrap\";\nimport API from \"./API\";\n\n\nconst AddSchedule = () => {\n  const [name, setName] = useState(\"\");\n  const [genre, setGenre] = useState(\"\");\n  const [starring, setStarring] = useState(\"\");\n  const [movieId, setMovieId] = useState(null);\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    refreshMovies();\n  }, []);\n\n  const refreshMovies = () => {\n    API.get(\"/\")\n      .then((res) => {\n        setMovies(res.data);\n        // setName(res[0].name)\n        // setGenre(res[0].genre)\n        // setStarring(res[0].starring)\n        // setMovieId(res[0].id)\n      })\n      .catch(console.error);\n  };\n  const onSubmit = (e) => {\n    e.preventDefault();\n    let item = { name, genre, starring };\n    API.post(\"/\", item).then(() => refreshMovies());\n  };\n\n  const onUpdate = (id) => {\n    let item = { name };\n    API.patch(`/${id}/`, item).then((res) => refreshMovies());\n  };\n\n  const onDelete = (id) => {\n    API.delete(`/${id}/`).then((res) => refreshMovies());\n  };\n  function selectMovie(id) {\n    let item = movies.filter((movie) => movie.id === id)[0];\n    setName(item.name);\n    setGenre(item.genre);\n    setStarring(item.starring);\n    setMovieId(item.id);\n  }\n\n\n\n  return (\n    <div>\n        <div className=\"container mt-5\">\n      <div className=\"row\">\n        <div className=\"col-md-4\">\n          <h3 className=\"float-left\">Create a new Movie</h3>\n          <Form onSubmit={onSubmit} className=\"mt-4\">\n            <Form.Group className=\"mb-3\" controlId=\"formBasicName\">\n              <Form.Label>{movieId}Name</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicGenre\">\n              <Form.Label>Genre</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Genre\"\n                value={genre}\n                onChange={(e) => setGenre(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicStarring\">\n              <Form.Label>Starring</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Starring\"\n                value={starring}\n                onChange={(e) => setStarring(e.target.value)}\n              />\n            </Form.Group>\n\n            <div className=\"float-right\">\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                onClick={onSubmit}\n                className=\"mx-2\"\n              >\n                Save\n              </Button>\n              <Button\n                variant=\"primary\"\n                type=\"button\"\n                onClick={() => onUpdate(movieId)}\n                className=\"mx-2\"\n              >\n                Update\n              </Button>\n            </div>\n          </Form>\n        </div>\n        <div className=\"col-md-8 m\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">#</th>\n                <th scope=\"col\">Movie Name</th>\n                <th scope=\"col\">Genre</th>\n                <th scope=\"col\">Starring</th>\n                <th scope=\"col\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {movies.map((movie, index) => {\n                return (\n                  <tr key=\"\">\n                    <th scope=\"row\">{movie.id}</th>\n                    <td> {movie.name}</td>\n                    <td>{movie.genre}</td>\n                    <td>{movie.starring}</td>\n                    <td>\n                        <button onClick={() => selectMovie(movie.id)}>Edit</button>\n                        <button onClick={() => onDelete(movie.id)}>Edit</button>\n\n                      <i\n                        className=\"fa fa-pencil-square text-primary d-inline\"\n                        aria-hidden=\"true\"\n                        onClick={() => selectMovie(movie.id)}\n                      ></i>\n                      <i\n                        className=\"fa fa-trash-o text-danger d-inline mx-3\"\n                        aria-hidden=\"true\"\n                        onClick={() => onDelete(movie.id)}\n                      ></i>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n    </div>\n  )\n}\n\nexport default AddSchedule"]},"metadata":{},"sourceType":"module"}