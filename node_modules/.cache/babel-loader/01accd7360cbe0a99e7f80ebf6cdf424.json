{"ast":null,"code":"import _defineProperty from \"/home/moringa/Desktop/Class-Schedule-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/home/moringa/Desktop/Class-Schedule-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/moringa/Desktop/Class-Schedule-React/src/components/pages/Login.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState } from 'react';\nimport { connect } from \"react-redux\";\nimport { login } from \"../../actions/auth\";\nimport { Redirect } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nfunction Login(_ref) {\n  var login = _ref.login,\n      isAuthenticated = _ref.isAuthenticated,\n      isStudent = _ref.isStudent;\n\n  var _useState = useState({\n    username: \"\",\n    password: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var username = user.username,\n      password = user.password;\n\n  var loginChange = function loginChange(e) {\n    return setUser(_objectSpread(_objectSpread({}, user), {}, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  var handleLoginSubmit = function handleLoginSubmit(e) {\n    e.preventDefault();\n    login({\n      username: username,\n      password: password\n    });\n  };\n\n  if (isAuthenticated && isStudent) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 16\n      }\n    });\n  } else if (isAuthenticated && !isStudent) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/staff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 15\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mb-5\",\n      style: {\n        marginTop: \"15%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: function onSubmit(e) {\n        return handleLoginSubmit(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 25\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: function onChange(e) {\n        return loginChange(e);\n      },\n      placeholder: \"username...\",\n      name: \"username\",\n      value: username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      onChange: function onChange(e) {\n        return loginChange(e);\n      },\n      placeholder: \"username...\",\n      name: \"password\",\n      value: password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, \"Login\"))))));\n  }\n}\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool,\n  isStudent: PropTypes.bool\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isAuthenticated: state.auth.isAuthenticated,\n    isStudent: state.auth.isStudent\n  };\n};\n\nexport default connect(mapStateToProps, {\n  login: login\n})(Login);","map":{"version":3,"names":["React","useState","connect","login","Redirect","PropTypes","Login","isAuthenticated","isStudent","username","password","user","setUser","loginChange","e","target","name","value","handleLoginSubmit","preventDefault","marginTop","propTypes","func","isRequired","bool","mapStateToProps","state","auth"],"sources":["/home/moringa/Desktop/Class-Schedule-React/src/components/pages/Login.js"],"sourcesContent":["import React, {useState}from 'react'\nimport {connect} from \"react-redux\"\nimport {login} from \"../../actions/auth\"\nimport {Redirect} from \"react-router-dom\"\nimport PropTypes from \"prop-types\"\n\nfunction Login ({login, isAuthenticated, isStudent}) {\n    const [user, setUser]=useState({\n        username:\"\",\n        password:\"\"\n    })\n\n    const {username, password}=user\n\n    const loginChange=(e)=>setUser({...user, [e.target.name]:e.target.value})\n     const handleLoginSubmit=(e)=>{\n         e.preventDefault();\n         login({username, password})\n     }\n    \n     if (isAuthenticated && isStudent){\n        return <Redirect to=\"/\" />\n    }else if(isAuthenticated && !isStudent){\n        return<Redirect to=\"/staff\" />\n    }else{  \n  return (\n    <div>\n         <div className='container mb-5' style={{marginTop: \"15%\"}}>\n            \n            <div className='row'>\n                <div className='col-md-6 mx-auto'>\n                <h2>Sign In</h2>\n                    <form onSubmit={(e)=>handleLoginSubmit(e)}>\n                    <div className=\"form-group mb-3\">\n                        <label>Username</label>\n                        <input type=\"text\" \n                        className=\"form-control\"\n                        onChange={ e =>loginChange(e)} \n                        placeholder=\"username...\" \n                        name=\"username\"  value={username}/>\n                    </div>\n                    <div className=\"form-group mb-3\">\n                        <label>Password</label>\n                        <input type=\"password\" \n                        className=\"form-control\"\n                        onChange={ e =>loginChange(e)} \n                        placeholder=\"username...\" \n                        name=\"password\"  value={password}/>\n                    </div>\n                    <button className='btn btn-primary'>Login</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n  )\n}\n}\n\nLogin.propTypes={\n    login:PropTypes.func.isRequired,\n    isAuthenticated:PropTypes.bool,\n    isStudent:PropTypes.bool\n}\n\nconst mapStateToProps =state =>({\n    isAuthenticated:state.auth.isAuthenticated,\n    isStudent:state.auth.isStudent\n})\n\nexport default connect(mapStateToProps, {login})(Login)"],"mappings":"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"},"metadata":{},"sourceType":"module"}