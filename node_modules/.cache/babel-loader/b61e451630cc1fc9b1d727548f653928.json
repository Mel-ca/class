{"ast":null,"code":"import _slicedToArray from\"/home/moringa/Desktop/Class-Schedule-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from\"react\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{useSelector,useDispatch}from'react-redux';import{Button,Form,Card}from\"react-bootstrap\";import API from\"./APL\";import'./session.css';import{Modal}from'react-bootstrap';import moment from'moment';import{Link}from'react-router-dom';import{Redirect}from'react-router-dom';var Sesion=function Sesion(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),time=_useState8[0],setTime=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),link=_useState10[0],setLink=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),sessionId=_useState12[0],setSessionId=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),sessions=_useState14[0],setSessions=_useState14[1];var auth=useSelector(function(state){return state.auth;});var dispatch=useDispatch();console.log(auth);useEffect(function(){refreshSessions();},[]);var refreshSessions=function refreshSessions(){API.get(\"/\").then(function(res){setSessions(res.data);}).catch(console.error);};var onSubmit=function onSubmit(e){e.preventDefault();// e.target.reset();\nvar item={title:title,description:description,date:date,time:time,link:link};API.post(\"/\",item).then(function(){return refreshSessions();});setTitle(\"\");setDescription(\"\");setDate(\"\");setTime(\"\");setLink(\"\");};var onUpdate=function onUpdate(id){var item={title:title,description:description,date:date,time:time,link:link};API.patch(\"/\".concat(id,\"/\"),item).then(function(res){return refreshSessions();});setTitle(\"\");setDescription(\"\");setDate(\"\");setTime(\"\");setLink(\"\");};var onDelete=function onDelete(id){API.delete(\"/\".concat(id,\"/\")).then(function(res){return refreshSessions();});};function selectSession(id){var item=sessions.filter(function(session){return session.id===id;})[0];setTitle(item.title);setDescription(item.description);setDate(item.date);setTime(item.time);setLink(item.link);setSessionId(item.id);}var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isOpen=_React$useState2[0],setIsOpen=_React$useState2[1];var showModal=function showModal(){setIsOpen(true);};var hideModal=function hideModal(){setIsOpen(false);};return/*#__PURE__*/React.createElement(\"div\",{className:\"mt-5 \"},/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row  page\"},auth.isStudent?null:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 mt-5 \"},/*#__PURE__*/React.createElement(Button,{onClick:showModal,className:\"btn\",style:{backgroundColor:\"#18183D\",color:'white',fontWeight:'bold'}},\" Add a New Session\"),/*#__PURE__*/React.createElement(Modal,{show:isOpen,onHide:hideModal},/*#__PURE__*/React.createElement(Modal.Header,null,/*#__PURE__*/React.createElement(Modal.Title,null,/*#__PURE__*/React.createElement(\"h1\",null,\"New Session \"))),/*#__PURE__*/React.createElement(Form,{onSubmit:onSubmit,className:\"mt-4\",style:{padding:'20px',backgroundColor:'whitesmoke'}},/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicTitle\"},/*#__PURE__*/React.createElement(Form.Label,null,sessionId,\"Session Title\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter The Title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicDetscription\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Session Details\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",rows:3,type:\"textarea\",placeholder:\"Enter Session Details\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicDate\"},/*#__PURE__*/React.createElement(Form.Label,null,\" Select Date\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"date\",placeholder:\"Date\",value:date,onChange:function onChange(e){return setDate(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicTime\"},/*#__PURE__*/React.createElement(Form.Label,null,\" Session Time\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Time\",value:time,onChange:function onChange(e){return setTime(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicLink\"},/*#__PURE__*/React.createElement(Form.Label,null,\" Session Link\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Time\",value:link,onChange:function onChange(e){return setLink(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"float-right\"},/*#__PURE__*/React.createElement(Button,{style:{backgroundColor:\"#18183D\",color:'white',fontWeight:'bold'},type:\"submit\",onClick:onSubmit,className:\"mx-2\"},\"Save\"),/*#__PURE__*/React.createElement(Button,{style:{backgroundColor:\"#18183D\",color:'white',fontWeight:'bold'},type:\"button\",onClick:function onClick(){return onUpdate(sessionId);},className:\"mx-2\"},\"Update\"),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",type:\"button\",onClick:hideModal,className:\"mx-2\"},\"Close\")))))),/*#__PURE__*/React.createElement(\"h3\",{className:\" mt-4m title text-center\"},\"Available Sessions \"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},sessions.map(function(session,index){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 mt-3\"},/*#__PURE__*/React.createElement(Card,{className:\"text-center card m-3\"},/*#__PURE__*/React.createElement(Card.Header,null,session.title),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,\"Session Details\"),/*#__PURE__*/React.createElement(Card.Text,{className:\"des\"},\" \",session.description,\" \"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h4\",null,\"Date\"),/*#__PURE__*/React.createElement(Card.Subtitle,null,\" \",moment(session.date).utc().format('YYYY-MM-DD'),\" from, \",session.time),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h4\",null,\"Time\"),/*#__PURE__*/React.createElement(\"a\",{className:\"btn\",style:{backgroundColor:\"#18183D\",color:'white',fontWeight:'bold'},target:\"_blank\",href:session.link},\"Join Session\")),/*#__PURE__*/React.createElement(Card.Footer,{className:\"bg-default \"},auth.isStudent?null:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{style:{backgroundColor:\"#18183D\",color:'white',fontWeight:'bold'},type:\"button\",onClick:function onClick(){selectSession(session.id);showModal();},className:\"mx-2\"},\"Edit\"),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",type:\"button\",onClick:function onClick(){return onDelete(session.id);},className:\"mx-2\"},\"Delete\"))))));})))))// </div>\n;};export default Sesion;","map":{"version":3,"sources":["/home/moringa/Desktop/Class-Schedule-React/src/components/pages/Sesion.js"],"names":["React","useState","useEffect","FontAwesomeIcon","useSelector","useDispatch","Button","Form","Card","API","Modal","moment","Link","Redirect","Sesion","title","setTitle","description","setDescription","date","setDate","time","setTime","link","setLink","sessionId","setSessionId","sessions","setSessions","auth","state","dispatch","console","log","refreshSessions","get","then","res","data","catch","error","onSubmit","e","preventDefault","item","post","onUpdate","id","patch","onDelete","delete","selectSession","filter","session","isOpen","setIsOpen","showModal","hideModal","isStudent","backgroundColor","color","fontWeight","padding","target","value","map","index","utc","format"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {useSelector, useDispatch} from 'react-redux';\nimport { Button, Form , Card} from \"react-bootstrap\";\nimport API from \"./APL\";\nimport './session.css';\nimport {  Modal } from 'react-bootstrap';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport  { Redirect } from 'react-router-dom'\n\n\n\nconst Sesion = () => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\")\n  const [date, setDate] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  const [sessionId, setSessionId] = useState(null);\n  const [sessions, setSessions] = useState([]);\n\n  const auth= useSelector((state) => state.auth)\n  const dispatch=useDispatch()\n  console.log(auth);\n\n  useEffect(() => {\n    refreshSessions();\n  }, []);\n\n  const refreshSessions = () => {\n    API.get(\"/\")\n      .then((res) => {\n        setSessions(res.data);\n      })\n      .catch(console.error);\n  };\n  \n  const onSubmit = (e) => {\n    e.preventDefault();\n    // e.target.reset();\n    let item = { title, description, date, time, link };\n    API.post(\"/\", item).then(() => refreshSessions());\n    setTitle(\"\")\n    setDescription(\"\")\n    setDate(\"\")\n    setTime(\"\")\n    setLink(\"\")\n  };\n\n  const onUpdate = (id) => {\n    let item = { title, description, date, time, link };\n    API.patch(`/${id}/`, item).then((res) => refreshSessions());\n    setTitle(\"\")\n    setDescription(\"\")\n    setDate(\"\")\n    setTime(\"\")\n    setLink(\"\")\n  }\n  const onDelete = (id) => {\n    API.delete(`/${id}/`).then((res) => refreshSessions());\n  };\n  function selectSession(id) {\n    let item = sessions.filter((session) => session.id === id)[0];\n    setTitle(item.title);\n    setDescription(item.description);\n    setDate(item.date);\n    setTime(item.time);\n    setLink(item.link);\n    setSessionId(item.id);\n  }\n  const [isOpen, setIsOpen] = React.useState(false);\n  const showModal = () => {\n    setIsOpen(true);\n  };\n  const hideModal = () => {\n    setIsOpen(false);\n  };\n\n\n  return (\n    <div className='mt-5 '>\n        <div className=\"container mt-5\">\n      <div className=\"row  page\">\n\n      {auth.isStudent ? null:<>\n        <div className=\"col-md-4 mt-5 \">\n\n        <Button onClick={showModal} className='btn' style={{backgroundColor: \"#18183D\",color:'white',fontWeight:'bold'}}> Add a New Session</Button>\n\n        <Modal show={isOpen} onHide={hideModal}>\n        <Modal.Header>\n          <Modal.Title><h1>New Session </h1></Modal.Title>\n        </Modal.Header>\n          <Form onSubmit={onSubmit} className=\"mt-4\" style={{padding:'20px',backgroundColor:'whitesmoke'}}>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicTitle\">\n              <Form.Label>{sessionId}Session Title</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter The Title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicDetscription\">\n              <Form.Label>Session Details</Form.Label>\n              <Form.Control as=\"textarea\" rows={3}\n                type=\"textarea\"\n                placeholder=\"Enter Session Details\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicDate\">\n              <Form.Label> Select Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                placeholder=\"Date\"\n                value={date}\n                onChange={(e) => setDate(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicTime\">\n              <Form.Label> Session Time</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Time\"\n                value={time}\n                onChange={(e) => setTime(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicLink\">\n              <Form.Label> Session Link</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Time\"\n                value={link}\n                onChange={(e) => setLink(e.target.value)}\n              />\n            </Form.Group>\n\n            <div className=\"float-right\">\n              <Button\nstyle={{backgroundColor: \"#18183D\",color:'white',fontWeight:'bold'}}                type=\"submit\"\n                onClick={onSubmit}\n                className=\"mx-2\"\n              >\n                Save\n              </Button>\n              <Button\nstyle={{backgroundColor: \"#18183D\",color:'white',fontWeight:'bold'}}                type=\"button\"\n                onClick={() => onUpdate(sessionId)}\n                className=\"mx-2\"\n              >\n                Update\n              </Button>\n              <Button\n                variant=\"danger\"\n                type=\"button\"\n                onClick={hideModal}\n                className=\"mx-2\"\n              >\n                Close\n              </Button>\n            </div>\n          </Form>\n          </Modal>\n\n        </div>\n        </>}\n        <h3 className=\" mt-4m title text-center\">Available Sessions </h3>\n\n        {/* <div className=\"col-md-8 mt-5\"> */}\n          <div className=\"row\">\n\n          {/* <table class=\"table mt-4\">\n            <thead>\n              <tr>\n                <th scope=\"col\"></th>\n                <th scope=\"col\">Title</th>\n                <th scope=\"col\">Session Details</th>\n                <th scope=\"col\">Session Date</th>\n                <th scope=\"col\">Time</th>\n                <th scope=\"col\">Session Link</th>\n              </tr>\n            </thead>\n            <tbody> */}\n              {sessions.map((session, index) => {\n                \n                return (\n\n                  \n                  <>\n                  {/* <tr key=\"\">\n                    <th scope=\"row\">{session.id}</th>\n                    <td> {session.title}</td>\n                    <td>{session.description}</td>\n                    <td>{session.date}</td>\n                    <td>{session.time}</td>\n                    <td>{session.link}</td>\n\n\n\n\n\n\n\n                    <td>\n                      {auth.isStudent ? null : <>\n                        <Button\n                          variant=\"secondary\"\n                          type=\"button\"\n                          onClick={() => selectSession(session.id)}\n                          className=\"mx-2\"\n                        >\n                          Edit\n                        </Button>\n                        <Button\n                          variant=\"danger\"\n                          type=\"button\"\n                          onClick={() => onDelete(session.id)}\n                          className=\"mx-2\"\n                        >\n                          Delete\n                        </Button>\n                      </>}\n\n                    </td>\n                  </tr> */}                 \n                  <div className=\"col-md-4 mt-3\">\n\n                  <Card className=\"text-center card m-3\">\n                    <Card.Header>{session.title}</Card.Header>\n                    <Card.Body>\n                      <Card.Title>Session Details</Card.Title>\n                      <Card.Text className='des'> {session.description} </Card.Text><br/>\n                      <h4>Date</h4>\n                      <Card.Subtitle > {moment(session.date).utc().format('YYYY-MM-DD')} from, {session.time}</Card.Subtitle><br/>\n                      <h4>Time</h4>\n                      <a className=\"btn\" style={{backgroundColor: \"#18183D\",color:'white',fontWeight:'bold'}} target='_blank' href={session.link} >Join Session</a>\n              \n                      {/* <Button variant=\"primary\">Go somewhere</Button> */}\n                    </Card.Body>\n                    <Card.Footer className=\"bg-default \">\n                    {auth.isStudent ? null : <>\n                      <Button\nstyle={{backgroundColor: \"#18183D\",color:'white',fontWeight:'bold'}}                           type=\"button\"\n                          onClick={\n                            () =>{\n                              selectSession(session.id)\n                              showModal()\n                             } \n                                 }\n                          className=\"mx-2\"\n                        >\n                          Edit\n                        </Button>\n                        <Button\n                          variant=\"danger\"\n                          type=\"button\"\n                          onClick={() => onDelete(session.id)}\n                          className=\"mx-2\"\n                        >\n                          Delete\n                        </Button>\n                      </>}\n                    </Card.Footer>\n                  </Card>\n                  </div>\n                    </>\n                );\n                \n              })}\n            {/* </tbody>\n          </table> */}\n        </div>\n      </div>\n      </div>\n    </div>\n    // </div>\n  )\n}\n\nexport default Sesion"]},"metadata":{},"sourceType":"module"}