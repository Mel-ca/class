{"ast":null,"code":"import _defineProperty from\"/home/moringa/Desktop/react/Class-Schedule-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/moringa/Desktop/react/Class-Schedule-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/moringa/Desktop/react/Class-Schedule-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{connect}from'react-redux';import{create_studentuser}from'../../actions/auth';import{Redirect}from'react-router-dom';var StudentSignup=function StudentSignup(_ref){var create_studentuser=_ref.create_studentuser,isAuthenticated=_ref.isAuthenticated,isStudent=_ref.isStudent;var _useState=useState({username:'',email:'',password:'',password2:''}),_useState2=_slicedToArray(_useState,2),student=_useState2[0],setStudent=_useState2[1];var handleChange=function handleChange(e){return setStudent(_objectSpread(_objectSpread({},student),{},_defineProperty({},e.target.name,e.target.value)));};var username=student.username,email=student.email,password=student.password,password2=student.password2;var handleSubmit=function handleSubmit(e){e.preventDefault();var newStudent={username:username,email:email,password:password,password2:password2};console.log(newStudent);create_studentuser(newStudent);};if(isAuthenticated&&isStudent){return/*#__PURE__*/React.createElement(Redirect,{to:\"/student\"});}return/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{marginTop:\"10%\"}},/*#__PURE__*/React.createElement(\"h2\",{class:\"text-center\"},\"Add Student\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 mx-auto\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},/*#__PURE__*/React.createElement(\"label\",null,\"username\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"username\",value:username,onChange:function onChange(e){return handleChange(e);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"email\",value:email,onChange:function onChange(e){return handleChange(e);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},/*#__PURE__*/React.createElement(\"label\",null,\"password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",value:password,onChange:function onChange(e){return handleChange(e);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Confirm password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"password2\",value:password2,onChange:function onChange(e){return handleChange(e);}})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Signup\")))));};var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.isAuthenticated,isStudent:state.auth.isStudent};};export default connect(mapStateToProps,{create_studentuser:create_studentuser})(StudentSignup);","map":{"version":3,"sources":["/home/moringa/Desktop/react/Class-Schedule-React/src/components/pages/StudentSignup.js"],"names":["React","useState","connect","create_studentuser","Redirect","StudentSignup","isAuthenticated","isStudent","username","email","password","password2","student","setStudent","handleChange","e","target","name","value","handleSubmit","preventDefault","newStudent","console","log","marginTop","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { connect } from 'react-redux'\nimport  PropTypes from \"prop-types\"\nimport { create_studentuser } from '../../actions/auth'\nimport { Redirect } from 'react-router-dom'\n\nconst StudentSignup = ({create_studentuser, isAuthenticated,isStudent}) => {\n    const [student, setStudent]=useState({\n        username:'',\n        email:'',\n        password:'',\n        password2:''\n    })\n\n    const handleChange=(e)=>setStudent({\n        ...student,\n        [e.target.name]:e.target.value })\n        \n    const {username, email, password, password2}=student\n     \n   const handleSubmit=(e)=>{\n       e.preventDefault();\n       const newStudent={\n           username,\n           email,\n           password,\n           password2\n       }\n       console.log(newStudent)\n    create_studentuser(newStudent)\n   }\n    if(isAuthenticated && isStudent){\n        return <Redirect to=\"/student\"/>\n    }\n    return (\n        <div className='container' style={{marginTop: \"10%\"}}>\n            <h2 class=\"text-center\">Add Student</h2>\n            <div className='row'>\n                <div className='col-md-8 mx-auto'>\n                    <form onSubmit={ e =>handleSubmit(e)}>\n                        <div className='form-group mb-3'>\n                            <label>username</label>\n                            <input type='text'\n                                 className='form-control' \n                                 name='username'\n                                 value={username}\n                                 onChange={(e)=>handleChange(e)}\n                                 />\n                        </div>\n         \n                        <div className='form-group mb-3'>\n                            <label>Email</label>\n                            <input type='text'\n                                 className='form-control' \n                                 name='email'\n                                 value={email}\n                                 onChange={(e)=>handleChange(e)}\n                                 />\n                        </div>\n                        <div className='form-group mb-3'>\n                            <label>password</label>\n                            <input type='password'\n                                 className='form-control' \n                                 name='password'\n                                 value={password}\n                                 onChange={(e)=>handleChange(e)}\n                                 />\n                        </div>\n                        <div className='form-group mb-3'>\n                            <label>Confirm password</label>\n                            <input type='text'\n                                 className='form-control' \n                                 name='password2'\n                                 value={password2}\n                                 onChange={(e)=>handleChange(e)}\n                                 />\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-primary\">Signup</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nStudentSignup.propTypes={\n    create_studentuser:PropTypes.func.isRequired,\n    isAuthenticated:PropTypes.bool,\n    isStudent:PropTypes.bool\n}\n\n\nconst mapStateToProps= state =>({\n    isAuthenticated:state.auth.isAuthenticated,\n    isStudent:state.auth.isStudent,\n})\n\nexport default  connect(mapStateToProps, {create_studentuser})(StudentSignup)"]},"metadata":{},"sourceType":"module"}